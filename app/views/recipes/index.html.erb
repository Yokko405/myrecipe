<header class="header">
    <div class="user-menu">
        <% if user_signed_in? %>
            <%= link_to 'プロフィール', edit_user_registration_path %>
            <%= link_to 'レシピ投稿', new_recipe_path %>
            <%= link_to 'ログアウト', destroy_user_session_path, data: { turbo_method: :delete } %>
        <% else %>
            <%= link_to 'ログイン', new_user_session_path %>
        <% end %>
    </div>
    <%= form_with url: recipes_path, method: :get do |form| %>
        <%= form.label :keyword, 'キーワード' %>
        <%= form.text_field :keyword %>
        
        <%= form.label :color_group_id, 'カテゴリー' %>
        <%= form.select :color_group_id, ColorGroup.all.map { |c| [c.name, c.id] }, include_blank: true %>
        <%= form.submit '検索' %>
    <% end %>

</header>
<h1>レシピ一覧</h1>

<div class="container recipe-list">
<ul>
    <% @recipes.each do |recipe| %>
        <li>
        <div class="recipe-item">
            <%= image_tag recipe.image if recipe.image.attached? %>
            <h3><%= link_to recipe.title, recipe %></h3>
            <%= link_to '編集', edit_recipe_path(recipe) %>
            <%= link_to '削除', recipe_path(recipe), method: :delete, data: { turbo_confirm: '本当に削除しますか？', turbo_method: :delete } %>


        </div>
        </li>
    <% end %>
</ul>
</div>
